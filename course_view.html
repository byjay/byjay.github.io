<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>강좌 보기 - AutoCAD 강좌</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/responsive.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&family=Inter:wght@300;400;500;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .course-container {
            max-width: 1000px;
            margin: 120px auto 60px;
            padding: 0 20px;
        }

        .video-placeholder {
            width: 100%;
            aspect-ratio: 16 / 9;
            background-color: #000;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            border-radius: 8px;
            margin-bottom: 30px;
        }

        .course-header {
            margin-bottom: 30px;
            border-bottom: 1px solid #eee;
            padding-bottom: 20px;
        }

        .course-title {
            font-size: 2rem;
            margin-bottom: 10px;
            color: #333;
        }

        .course-meta {
            display: flex;
            gap: 15px;
            color: #666;
            font-size: 0.9rem;
        }

        .course-meta span {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .course-content {
            line-height: 1.8;
            color: #444;
        }

        .course-content h3 {
            margin-top: 30px;
            margin-bottom: 15px;
            color: #222;
        }

        .back-btn {
            display: inline-block;
            margin-bottom: 20px;
            color: #666;
            text-decoration: none;
            font-weight: 500;
        }

        .back-btn:hover {
            color: #0056b3;
        }
    </style>
</head>

<body>
    <!-- 헤더 -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <a href="index.html"
                        style="text-decoration: none; color: inherit; display: flex; align-items: center; gap: 10px;">
                        <i class="fas fa-drafting-compass"></i>
                        <span>AutoCAD 강좌</span>
                    </a>
                </div>
                <nav class="nav">
                    <ul class="nav-menu">
                        <li><a href="index.html" class="nav-link">홈</a></li>
                        <li><a href="index.html#tutorials" class="nav-link active">강좌</a></li>
                        <li><a href="index.html#tips" class="nav-link">팁 & 노하우</a></li>
                        <li><a href="index.html#resources" class="nav-link">자료실</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <main class="course-container">
        <a href="index.html" class="back-btn"><i class="fas fa-arrow-left"></i> 목록으로 돌아가기</a>

        <div id="course-content-area">
            <!-- Content will be loaded here -->
            <div style="text-align: center; padding: 50px;">
                <i class="fas fa-spinner fa-spin fa-3x"></i>
                <p style="margin-top: 20px;">강좌를 불러오는 중입니다...</p>
            </div>
        </div>
    </main>

    <script src="scripts/tutorials.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const urlParams = new URLSearchParams(window.location.search);
            const courseId = parseInt(urlParams.get('id'));

            if (!courseId) {
                document.getElementById('course-content-area').innerHTML = '<p>강좌 ID가 유효하지 않습니다.</p>';
                return;
            }

            // tutorials.js must expose a way to find a tutorial
            // We'll assume findTutorialById is available or we'll add it.
            // Since tutorials.js currently has it but not exposed globally, we might need to rely on window.TutorialManager

            // Wait for TutorialManager to be available if needed, but it's a sync script load.
            if (window.TutorialManager && window.TutorialManager.getTutorialById) {
                const tutorial = window.TutorialManager.getTutorialById(courseId);
                renderCourse(tutorial);
            } else {
                // Fallback if getTutorialById is not exposed yet (we will update tutorials.js next)
                // For now, let's try to access tutorialsData directly if global, or wait.
                // We will implement getTutorialById in tutorials.js
                console.error("TutorialManager not ready or getTutorialById missing");
                document.getElementById('course-content-area').innerHTML = '<p>강좌 데이터를 불러올 수 없습니다.</p>';
            }
        });

        function renderCourse(tutorial) {
            if (!tutorial) {
                document.getElementById('course-content-area').innerHTML = '<p>강좌를 찾을 수 없습니다.</p>';
                return;
            }

            const difficultyMap = {
                'start': '시작반',
                'beginner': '기초반',
                'intermediate': '중급반',
                'advanced': '고급반'
            };

            const html = `
                <div class="video-placeholder">
                    <i class="fas fa-play-circle" style="margin-right: 10px;"></i>
                    <span>동영상 플레이어 (${tutorial.duration})</span>
                </div>
                <div class="course-header">
                    <h1 class="course-title">${tutorial.title}</h1>
                    <div class="course-meta">
                        <span class="difficulty ${tutorial.difficulty}">
                            <i class="fas fa-layer-group"></i> ${difficultyMap[tutorial.difficulty] || tutorial.difficulty}
                        </span>
                        <span><i class="fas fa-calendar-alt"></i> ${tutorial.date}</span>
                        <span><i class="fas fa-tag"></i> ${tutorial.category}</span>
                    </div>
                </div>
                <div class="course-content">
                    <p class="lead" style="font-size: 1.1rem; margin-bottom: 30px;">${tutorial.description}</p>
                    
                    <h3>학습 목표</h3>
                    <ul>
                        <li>이 강좌를 통해 ${tutorial.title}의 핵심 개념을 이해합니다.</li>
                        <li>실무에서 자주 사용되는 기능을 익힙니다.</li>
                    </ul>

                    <h3>주요 내용</h3>
                    <p>
                        본 강좌에서는 오토캐드의 <strong>${tutorial.title}</strong>에 대해 상세히 다룹니다.
                        단계별 예제를 통해 따라하며 배울 수 있도록 구성되어 있습니다.
                    </p>
                    
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-top: 30px;">
                        <h4><i class="fas fa-info-circle"></i> 참고 사항</h4>
                        <p>실습 파일은 자료실에서 다운로드할 수 있습니다. 질문이 있다면 댓글이나 문의하기를 이용해 주세요.</p>
                    </div>
                </div>
            `;

            document.getElementById('course-content-area').innerHTML = html;
        }
    </script>
</body>

</html>